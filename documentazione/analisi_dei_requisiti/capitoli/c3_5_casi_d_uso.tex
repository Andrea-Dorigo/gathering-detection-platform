\chapter{Casi D'uso}\label{casiDuso}
\section{Attori dei casi d'uso}
\begin{center}
	\begin{figure}[H]
		\includegraphics{../immagini/attori_casi/attore.png}
		\caption{Attore: utente generico}
	\end{figure}
\end{center}
\subsection{Attori Primari}\label{attoriPrimari}
\begin{itemize}
	\item \textbf{Utente generico:} Definisce l'utente generico che utilizza l'applicazione web;
	\item \textbf{Fonti esterne:} Definisce le fonti da cui verranno elaborati e visualizzati i dati.
\end{itemize}

\section{Elenco casi d'uso}\label{elencoCasiDuso}
In questa sezione vengono elencati i casi d'uso individuati per il progetto GDP in accordo con il proponente. Ogni caso d'uso indica un'interazione tra uno o più attori e il sistema. Questa interazione genera uno scenario che è l'insieme delle azioni che hanno in comune uno scopo finale per un utente.

\subsection{Azioni dell'utente}
%qui andrebbe il primo diagramma disegnato%
\begin{itemize}
	\item \textbf{Attori primari}: utente generico;
	\item \textbf{Descrizione}: l'utente visualizza una mappa presente nell'applicazione web. Tale mappa è una heat map e presenta all'utente i dati analizzati dal prodotto;
	\item \textbf{Scenario principale}: l'utente accede all'applicazione web e visualizza la mappa;
	\item \textbf{Precondizione}: il sistema è attivo e funzionante e l'utente e l'utente accede all'applicazione web;
	\item \textbf{Postcondizione}: il sistema invia i dati alla pagina al caricamento presentando una mappa con tutti i dati per l'utente.
\end{itemize}

\subsection{UC1 - Visualizzazione mappa}
\begin{itemize}
\item \textbf{Attori primari}: utente generico;
\item \textbf{Descrizione}: l’utente accede all’applicazione web e visualizza la heat map riguardante una città di default;
\item \textbf{Scenario principale}: 
	\begin{itemize}
		\item l’utente accede all’applicazione (utente raggiunge l’applicazione/si collega all’applicazione);
		\item l’applicazione genera in base ai dati prelevati dal DB l’heat map della città di default in real time.
	\end{itemize}
\item \textbf{Precondizione}: il sistema è attivo e funzionante e i dati per la creazione della heat map sono presenti nel DB;
\item \textbf{Postcondizione}: l’utente visualizza la heat map relativa alla città di default;
\item \textbf{Estensioni}: l’utente accede all’applicazione web, il sistema alla richiesta dei dati dal database non riceve nessun dato e di conseguenza viene visualizzato un messaggio d’errore(UC3);
\item \textbf{Inclusioni}: per una corretta visualizzazione della mappa è necessario la richiesta di dati dal DB (UC2).
\end{itemize}

\subsection{UC2 - Richiesta dati DB}
\begin{itemize}
	\item \textbf{Attori primari}: utente generico;
	\item \textbf{Descrizione}: quando l’utente carica la pagina web il sistema richiede al Database i dati necessari attraverso una query;
	\item \textbf{Scenario principale}: 
		\begin{enumerate}
			\item l’utente accede all’applicazione;
			\item il sistema carica la mappa;
			\item viene effettuata una richiesta al DB mediante le query;
			\item il DB aggiornato continuativamente con i nuovi dati risponde alla richiesta;
			\item il sistema riceve la risposta;
			\item il sistema invia i dati alla mappa per essere generata;
		\end{enumerate}
	\item \textbf{Precondizione}: i dati dalle sorgenti sono disponibili;
	\item \textbf{Postcondizione}: la web application riceve i dati necessari dal database. 
	\begin{itemize}
		\item \textbf{UC3}: se l'applicazione web non riceve nessuna informazione dal sistema viene visualizzato un messaggio di errore.
	\end{itemize}
	\item \textbf{Precondizione}: il sistema è attivo e funzionante e l'utente sceglie la tipologia di dati da utilizzare;
	\item \textbf{Postcondizione}: il sistema invia i dati all'applicazione web e aggiorna la mappa in base alle nuove informazioni.
\end{itemize}

\subsection{UC3 - Visualizzazione messaggio d’errore}
\begin{itemize}
	\item \textbf{Attori primari}: utente generico;
	\item \textbf{Descrizione}: l’utente visualizza un messaggio d’errore per la mancanza di dati nel database;
	\item \textbf{Scenario principale}: il sistema richiede dati al DB senza riceverne in risposta impossibilitando la creazione dell’heat map;
	\item \textbf{Precondizione}: il sistema effettua una richiesta al database, nel database mancano i dati richiesti
	\item \textbf{Postcondizione}: viene visualizzato un messaggio all’utente per informarlo sul problema riscontrato
\end{itemize}

\subsection{Azioni del sistema}
%diagramma GDP%
\begin{itemize}
\item \textbf{Attori primari}: fonti esterne;
\item \textbf{Descrizione}: ;
\item \textbf{Scenario principale}: ;
\item \textbf{Precondizione}: ;
\item \textbf{Postcondizione}: .
\end{itemize}

\subsection{UC4 - Scelta della città}
%nessun diagramma%
\begin{itemize}
\item \textbf{Attori primari}: utente generico;
\item \textbf{Descrizione}: l’utente sceglie la città di cui vuole visualizzare la mappa;
\item \textbf{Scenario principale}:
	\begin{itemize}
		\item l’utente interagisce con l’interfaccia di selezione città/zona;
		\item l’utente seleziona una città/zona fra quelle proposte;
	\end{itemize}
\item \textbf{Precondizione}: l’utente visualizza correttamente (la pagina ed) il tasto per iniziare la selezione della città;
\item \textbf{Postcondizione}:  l’utente visualizza correttamente la mappa della città/zona selezionata.
\end{itemize}

\subsection{UC5 - Scelta periodo dati}
%nessun diagramma%
\begin{itemize}
\item \textbf{Attori primari}: utente generico;
\item \textbf{Descrizione}: l’utente attraverso l’interfaccia del sistema, modifica il periodo in cui vuole visualizzare i dati;
\item \textbf{Scenario principale}: 
	\begin{itemize}
		\item l’utente visualizza l’applicazione web correttamente;
		\item Attraverso l’interfaccia l’utente può decidere di:
			\begin{enumerate}
				\item Modificare l’orario dei dati da visualizzare;
				\item Modificare il giorno tra quelli disponibili;
				\item Ritornare ai dati in tempo reale.
			\end{enumerate}
	\end{itemize}
\item \textbf{Precondizione}: la pagina e l’interfaccia sono visualizzate correttamente, i dati sono presenti nel database;
\item \textbf{Postcondizione}: l’utente visualizza i dati riguardanti l’intervallo di tempo selezionato.
\end{itemize}

\subsection{UC5.1 - Selezione dell'orario}
%diagramma uc5.1%
\begin{itemize}
	\item \textbf{Attori primari}: utente generico;
	\item \textbf{Descrizione}: l’utente seleziona un orario diverso da quello attuale per visualizzare i dati di quel momento;
	\item \textbf{Scenario principale}:
		\begin{itemize}
			\item l’utente accede all’applicazione web;
			\item seleziona l’orario di cui vuole visualizzare i dati nella mappa;
			\item la mappa si aggiorna con i dati dell’ora selezionata dall’utente.
		\end{itemize}
	\item \textbf{Precondizione}: la pagina viene visualizzata correttamente, è possibile selezionare l’orario dei dati visualizzati;
	\item \textbf{Postcondizione}: viene aggiornata la mappa all’orario scelto dall’utente.
\end{itemize}

\subsection{UC5.2 - Selezione della data}
%diagramma uc5.2%
\begin{itemize}
	\item \textbf{Attori primari}: utente generico;
	\item \textbf{Descrizione}:  l’utente seleziona una data diversa da quella odierna e tra quelle disponibili e visualizza la mappa della data scelta;
	\item \textbf{Scenario principale}:
		\begin{itemize}
			\item l’utente accede all’applicazione web;
			\item l’utente seleziona una data diversa da quella attuale;
			\item la mappa si aggiorna con i dati della data scelta
		\end{itemize}
	\item \textbf{Precondizione}: la pagina si visualizza correttamente, i dati relativi ai giorni presenti nel DB, l’interfaccia per selezionare un giorno viene visualizzata correttamente;
	\item \textbf{Postcondizione}:  la heat map viene aggiornata con i dati del giorno selezionato all’orario di default.
\end{itemize}

\subsection{UC5.3 - Ripristino dati a tempo reale}
%diagramma uc5.3%
\begin{itemize}
	\item \textbf{Attori primari}: utente generico;
	\item \textbf{Descrizione}:  l’utente dopo aver visionato i dati dell'intervallo futuro scelto può ritornare a vedere i dati in real time premendo il pulsante Reset to RT(placeholder);
	\item \textbf{Scenario principale}: l’utente preme sul pulsante per tornare a visualizzare nuovamente i dati real time;
	\item \textbf{Precondizione}:  l’utente ha utilizzato lo slider per cambiare orario o utilizzato anche il calendario per modificare il giorno;
	\item \textbf{Postcondizione}: la mappa viene aggiornata con i dati real time.
\end{itemize}

\subsection{UC6 - Elaborazione dati}
%diagramma uc6%
\begin{itemize}
	\item \textbf{Attori primari}: fonti esterne;
	\item \textbf{Descrizione}: ;
	\item \textbf{Scenario principale}: ;
	\item \textbf{Precondizione}: ;
	\item \textbf{Postcondizione}: .
\end{itemize}

\subsection{UC6.1 - Elaborazione per la predizione dei dati}
%nessun diagramma%
\begin{itemize}
	\item \textbf{Attori primari}: fonti esterne;
	\item \textbf{Descrizione}: ;
	\item \textbf{Scenario principale}: ;
	\item \textbf{Precondizione}: ;
	\item \textbf{Postcondizione}: .
\end{itemize}

\subsection{UC6.2 - Elaborazione per la visualizzazione dei dati}
%nessun diagramma%
\begin{itemize}
	\item \textbf{Attori primari}: fonti esterne;
	\item \textbf{Descrizione}: ;
	\item \textbf{Scenario principale}: ;
	\item \textbf{Precondizione}: ;
	\item \textbf{Postcondizione}: .
\end{itemize}

\subsection{UC7 - Errore nell'elaborazione dati}
%nessun diagramma%
\begin{itemize}
	\item \textbf{Attori primari}: fonti esterne;
	\item \textbf{Descrizione}: ;
	\item \textbf{Scenario principale}: ;
	\item \textbf{Precondizione}: ;
	\item \textbf{Postcondizione}: .
\end{itemize}


%%DA QUI CI SONO LE COSE FATTE DA CECHCIN%%
\subsection{UC1 - Visualizzazione mappa}
\begin{center}
	\begin{figure}[H]
		\includegraphics[width=0.95\linewidth]{../immagini/attori_casi/vis_mappa.png}
		\caption{UC1 - Visualizzazione mappa}
	\end{figure}
\end{center}
\begin{itemize}
	\item \textbf{Attori primari}: utente generico;
	\item \textbf{Descrizione}: l'utente visualizza una mappa presente nell'applicazione web. Tale mappa è una heat map e presenta all'utente i dati analizzati dal prodotto;
	\item \textbf{Scenario principale}: l'utente accede all'applicazione web e visualizza la mappa;
	\item \textbf{Precondizione}: il sistema è attivo e funzionante;
	\item \textbf{Postcondizione}: il sistema invia i dati alla pagina al caricamento presentando una mappa con tutti i dati per l'utente.
\end{itemize}
\begin{center}
	\begin{figure}[H]
		\includegraphics[width=0.95\linewidth]{../immagini/attori_casi/uc2.png}
		\caption{Schema generale: Scelta dati da visualizzare ed errori}
	\end{figure}
\end{center}


